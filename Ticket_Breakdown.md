# Ticket Breakdown
We are a staffing company whose primary purpose is to book Agents at Shifts posted by Facilities on our platform. We're working on a new feature which will generate reports for our client Facilities containing info on how many hours each Agent worked in a given quarter by summing up every Shift they worked. Currently, this is how the process works:

- Data is saved in the database in the Facilities, Agents, and Shifts tables
- A function `getShiftsByFacility` is called with the Facility's id, returning all Shifts worked that quarter, including some metadata about the Agent assigned to each
- A function `generateReport` is then called with the list of Shifts. It converts them into a PDF which can be submitted by the Facility for compliance.

## You've been asked to work on a ticket. It reads:

**Currently, the id of each Agent on the reports we generate is their internal database id. We'd like to add the ability for Facilities to save their own custom ids for each Agent they work with and use that id when generating reports for them.**


Based on the information given, break this ticket down into 2-5 individual tickets to perform. Provide as much detail for each ticket as you can, including acceptance criteria, time/effort estimates, and implementation details. Feel free to make informed guesses about any unknown details - you can't guess "wrong".


You will be graded on the level of detail in each ticket, the clarity of the execution plan within and between tickets, and the intelligibility of your language. You don't need to be a native English speaker, but please proof-read your work.

## Your Breakdown Here
Note: All the estimation includes testing effort
>### Ticket 1


**Summary:** "Generate a unique id for an Agent"

**Description:** "Provide an ability to the Facility so that Facility can generate a custom unique id for the agents with whom they have worked."

**Acceptance Criteria:** 

1. `generateUniqueCustomId` should return a valid value.
2. `generateUniqueCustomId` returned value should be combination of its passed parameters.
3. `generateUniqueCustomId` should be called exactly the same time as number of Agents for a Facilty.

**Estimate:** 0.5 hours

**Implementaion Details:** Steps to follow:
1. Create a function called `generateUniqueCustomId`, this will accept firstName, lastName and contactNumber. 
This should return a unique readable id which will be combination of all three parameter. IF facilty doesn't need readble custom id then simply return UUID and do not pass any parameter.
2. After calling `getShiftsByFacility`, list of shift records will be returned which includes list of Agent details(metadata). 
3. Call function `generateUniqueId` with above parameters(extract from agent metadata) for each Agents included in all shifts.
4. Append those newly generated uuid to respective object of Agents.

>### Ticket 2


 **Summary:**  "Save unique agent id generated by a Faciltity"

**Description:** "Facility should be able to save the newly generated unique ids to its respective Agents, all unique ids should be correctly mapped in the Agent table using agentId"

**Acceptance Criteria:** 
1. Calling `updateAgentRecords` should update the respective agent record.
2. `updateAgentRecords` should not accept invalid(empty space, null values and other than alpha numeric values) agentId.


**Estimate:** 2 hours

**Implementaion Details:** Steps to follow:
1. Create a new column(customId) in Agents table.
2. Once we have newly created object from Ticket 1 with new custom ids, call function `updateAgentRecords(agentId, customId)`.
3. `updateAgentRecords` takes two parameter, one is the existing database primary key and other one is newly generated custom id.
4. `updateAgentRecords` should update the Agent's table new column(customId) with new value.

> ### Ticket 3


**Summary:**  "Fetch newly generated unique agents Id "

**Description:** "`getShiftsByFacility` should return custom unique agent id along with agent metadata"

**Acceptance Criteria:** 

1. `getShiftsByFacility` function response should include agent's custom id inside shifts record
2. `getShiftsByFacility` should not accept invalid facilty id.

**Estimate:** 0.25 hours

**Implementaion Details:** Steps to follow:
1. Update the query to fetch one more column called customId which is called by `getShiftsByFacility` function.
2. Now calling `getShiftsByFacility` with Faciltiy's id should return Agent's custom id along with all other data.

> ### Ticket 4

**Summary:**  "Display agent's custom unique ids in the generated report"

**Description:** "all the newly generated custom agents id by Faciltiy should be shown in the generated report"

**Acceptance Criteria:** 
1. When passed updated Shift record which has Agent's custom id to `generateReport` function, generated report should include the Agent's custom id.
2. When passed Shift record which doesn't have Agent's custom id to `generateReport` function, generated report should not include the Agent's custom id.

**Estimate:** 0.25 hours

**Implementaion Details:** Steps to follow:
1. Considering all the Shift's record have updated Agent's metadata, pass this Shifts record to `generateReport` function.
2. while generating report, extract Agent's customId from Agent's data and use it in the approprite location.